{% extends "base.html" %}

{% block title %}AI Chat{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-4 text-center">Talk with AI Assistant ðŸ¤–</h2>

    <div class="chat-box mb-3 p-3 border rounded shadow-sm" style="background: #f9f9f9; max-height: 500px; overflow-y: auto;">
        {% if chat_history %}
            {% for msg in chat_history %}
                {% if msg.role == "user" %}
                    <div class="alert alert-secondary mb-2">
                        <strong>You:</strong> {{ msg.content }}
                    </div>
                {% elif msg.role == "assistant" %}
                    <div class="alert alert-primary mb-2">
                        <strong>AI:</strong> {{ msg.content }}
                    </div>
                {% endif %}
            {% endfor %}
        {% else %}
            <p class="text-muted">Start the conversation below ðŸ‘‡</p>
        {% endif %}
    </div>

    <form method="POST" action="{{ url_for('Ai.chat') }}">
        <div class="input-group mb-3">
            <input type="text" name="message" class="form-control" placeholder="Type your message..." required autocomplete="off">
            <button class="btn btn-primary" type="submit">Send</button>
        </div>
    </form>

    <div class="text-center">
        <a href="{{ url_for('Ai.reset') }}" class="btn btn-outline-danger mt-2">ðŸ§¹ Reset Chat</a>
    </div>
</div>
{% endblock %}
